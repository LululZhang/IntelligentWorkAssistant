### 软件工程课程作业-智工管家
# 数据库实体及属性说明

## 概述

本文档描述了系统中使用的数据库实体及其属性。这些实体包括用户、项目、任务、文档、问题和回复，每个实体都定义了其主键、外键及其他相关属性。

## 实体及属性

### 1. 用户（User）

- **用户ID**（主键）
  - 类型：INT，自增
  - 描述：用户的唯一标识符。

- **用户名**
  - 类型：VARCHAR(100)
  - 描述：用户的登录名。

- **密码**（加密存储）
  - 类型：VARCHAR(255)
  - 描述：用户的登录密码，存储时应进行加密处理。

- **角色**
  - 类型：ENUM('项目经理', '工人', '系统管理员')
  - 描述：用户的角色，限定为项目经理、工人或系统管理员。

- **邮箱**
  - 类型：VARCHAR(100)
  - 描述：用户的电子邮箱地址。

- **手机号码**
  - 类型：VARCHAR(20)
  - 描述：用户的手机号码。

### 2. 项目（Project）

- **项目ID**（主键）
  - 类型：INT，自增
  - 描述：项目的唯一标识符。

- **项目名称**
  - 类型：VARCHAR(100)
  - 描述：项目的名称。

- **项目描述**
  - 类型：TEXT
  - 描述：项目的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：项目的创建时间，默认值为当前时间。

- **项目经理ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责该项目的项目经理的用户ID。

### 3. 任务（Task）

- **任务ID**（主键）
  - 类型：INT，自增
  - 描述：任务的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：任务所属项目的ID。

- **任务名称**
  - 类型：VARCHAR(100)
  - 描述：任务的名称。

- **任务描述**
  - 类型：TEXT
  - 描述：任务的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：任务的创建时间，默认值为当前时间。

- **分配人ID**（外键，关联用户ID，即项目经理）
  - 类型：INT
  - 描述：分配任务的用户ID，通常为项目经理。

- **负责人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责该任务的用户ID。

- **完成百分比**
  - 类型：DECIMAL(3,2)
  - 描述：任务的完成进度，范围为0-100%。

- **截止时间**
  - 类型：DATETIME
  - 描述：任务的截止时间。

- **状态**（待分配、进行中、已完成等）
  - 类型：ENUM('待分配', '进行中', '已完成')
  - 描述：任务的状态。

### 4. 文档（Document）

- **文档ID**（主键）
  - 类型：INT，自增
  - 描述：文档的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：文档所属项目的ID。

- **文档名称**
  - 类型：VARCHAR(255)
  - 描述：文档的名称。

- **文档类型**（施工图纸、现场照片、工程合同文件等）
  - 类型：ENUM('施工图纸', '现场照片', '工程合同文件')
  - 描述：文档的类型。

- **上传时间**
  - 类型：TIMESTAMP
  - 描述：文档的上传时间，默认值为当前时间。

- **文件路径**（或存储在云存储中的引用）
  - 类型：VARCHAR(255)
  - 描述：文档的存储路径或云存储引用。

### 5. 问题（Issue）

- **问题ID**（主键）
  - 类型：INT，自增
  - 描述：问题的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：问题所属项目的ID。

- **问题描述**
  - 类型：TEXT
  - 描述：问题的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：问题的创建时间，默认值为当前时间。

- **分配人ID**（外键，关联用户ID，即项目经理）
  - 类型：INT
  - 描述：分配该问题的用户ID，通常为项目经理。

- **负责人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责解决该问题的用户ID。

- **解决状态**（待处理、已处理）
  - 类型：ENUM('待处理', '已处理')
  - 描述：问题的解决状态。

### 6. 回复（Notification）

- **回复ID**（主键）
  - 类型：INT，自增
  - 描述：回复的唯一标识符。

- **接收人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：接收该回复的用户ID。

- **任务ID**（可为空，若关联则表示任务相关通知）
  - 类型：INT（可为空）
  - 描述：关联的任务ID（如果适用）。

- **问题ID**（可为空，若关联则表示问题相关通知）
  - 类型：INT（可为空）
  - 描述：关联的问题ID（如果适用）。

- **通知内容**
  - 类型：TEXT
  - 描述：回复的具体内容。

- **发送时间**
  - 类型：TIMESTAMP
  - 描述：回复的发送时间，默认值为当前时间。

- **是否已读**
  - 类型：BOOLEAN
  - 描述：回复是否已被接收人阅读，默认值为未读。

## 注意事项

- **数据完整性**：确保外键关联的表（如用户、项目、任务）已存在，并定义了相应的主键。
- **加密存储**：密码字段必须进行加密存储，确保数据安全。
- **数据一致性**：外键约束确保数据的一致性和完整性，避免孤立记录。

---

以上为数据库实体及属性的详细说明，供开发团队参考。
