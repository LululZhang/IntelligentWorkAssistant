# 智工管家

## 软件简介

智工管家是一款面向建筑施工行业的智能化项目管理平台，旨在提升工程管理效率和质量。系统通过数字化手段实现对工程项目全生命周期的管理，包括任务分配、进度跟踪、文档管理和问题处理等功能模块。该系统特别适用于需要多部门协作、大量现场数据采集和实时进度监控的建筑工程场景。

## 软件分工

我们小组共有四位成员，每位成员在软件开发中承担不同的职责，以确保项目的顺利进行。以下是具体的分工情况：

### 成员及职责

#### 成员一：未编写
- 负责项目的整体规划和管理
- 制定项目进度计划并监控项目执行情况
- 协调团队成员之间的沟通与协作
- 与客户沟通需求并确认项目目标
- 确保项目按时、按质完成

#### 成员二：未编写
- 负责前端页面的设计与实现
- 使用HTML、CSS、JavaScript等技术开发用户界面
- 实现页面的响应式布局和交互功能
- 与后端开发人员协作，确保前后端数据交互顺畅
- 优化前端性能，提升用户体验

#### 成员三：毛波
- 负责后端业务逻辑的设计与实现
- 实现用户管理与认证、权限管理、文件储存、智慧大屏等功能模块
- 与数据库交互，处理数据存储和查询
- 负责软件测试工作

#### 成员四：未编写
- 编写测试用例并执行测试计划
- 记录和跟踪缺陷，确保问题及时修复
- 编写项目相关的技术文档和用户手册
- 参与需求分析和技术方案评审

## 技术栈

### 前端技术栈
- HTML5/CSS3：基础网页结构和样式
- Bootstrap 5.3：响应式布局和UI组件
- JavaScript：客户端交互逻辑
- Font Awesome：图标库
- Microsoft YaHei 字体：中文界面显示

### 后端技术栈
- Python 3.x：服务端编程语言
- Flask：轻量级Web框架
- Flask-Login：用户认证管理
- MySQL Connector：数据库连接
- pandas：数据处理和分析
- mysql-connector-python：MySQL数据库驱动
- Python标准库（os, datetime, csv等）

### 数据库
- MySQL：关系型数据库管理系统

### 其他技术
- 文件存储：本地文件系统
- 用户权限管理：基于角色的访问控制（RBAC）
- 数据加密：密码哈希存储

## 功能模块

### 用户管理
- 多角色支持：项目经理、工人、系统管理员
- 登录认证：安全的用户名/密码验证
- 权限控制：基于项目的访问权限管理

### 项目管理
- 项目创建与维护
- 进度跟踪：任务完成百分比统计
- 文档管理：关联项目相关的施工图纸、现场照片和合同文件
- 问题追踪：记录和处理项目实施过程中的各类问题

### 任务管理
- 任务创建与分配
- 截止时间设置
- 状态管理：待分配、进行中、已完成
- 进度更新：实时反映任务完成情况

### 文档管理
- 支持多种文档类型：施工图纸、现场照片、工程合同文件
- 文件上传与下载
- 文档分类管理
- 文件路径存储：支持本地或云存储引用

### 问题管理
- 问题提交与分配
- 解决状态跟踪：待处理、已处理
- 问题分类管理
- 问题解决记录


## 数据库实体及属性说明

### 概述

本文档描述了系统中使用的数据库实体及其属性。这些实体包括用户、项目、任务、文档、问题和回复，每个实体都定义了其主键、外键及其他相关属性。

### 实体及属性

#### 1. 用户（User）

- **用户ID**（主键）
  - 类型：INT，自增
  - 描述：用户的唯一标识符。

- **用户名**
  - 类型：VARCHAR(100)
  - 描述：用户的登录名。

- **密码**（加密存储）
  - 类型：VARCHAR(255)
  - 描述：用户的登录密码，存储时应进行加密处理。

- **角色**
  - 类型：ENUM('项目经理', '工人', '系统管理员')
  - 描述：用户的角色，限定为项目经理、工人或系统管理员。

- **邮箱**
  - 类型：VARCHAR(100)
  - 描述：用户的电子邮箱地址。

- **手机号码**
  - 类型：VARCHAR(20)
  - 描述：用户的手机号码。

#### 2. 项目（Project）

- **项目ID**（主键）
  - 类型：INT，自增
  - 描述：项目的唯一标识符。

- **项目名称**
  - 类型：VARCHAR(100)
  - 描述：项目的名称。

- **项目描述**
  - 类型：TEXT
  - 描述：项目的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：项目的创建时间，默认值为当前时间。

- **项目经理ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责该项目的项目经理的用户ID。

#### 3. 任务（Task）

- **任务ID**（主键）
  - 类型：INT，自增
  - 描述：任务的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：任务所属项目的ID。

- **任务名称**
  - 类型：VARCHAR(100)
  - 描述：任务的名称。

- **任务描述**
  - 类型：TEXT
  - 描述：任务的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：任务的创建时间，默认值为当前时间。

- **分配人ID**（外键，关联用户ID，即项目经理）
  - 类型：INT
  - 描述：分配任务的用户ID，通常为项目经理。

- **负责人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责该任务的用户ID。

- **完成百分比**
  - 类型：DECIMAL(3,2)
  - 描述：任务的完成进度，范围为0-100%。

- **截止时间**
  - 类型：DATETIME
  - 描述：任务的截止时间。

- **状态**（待分配、进行中、已完成等）
  - 类型：ENUM('待分配', '进行中', '已完成')
  - 描述：任务的状态。

#### 4. 文档（Document）

- **文档ID**（主键）
  - 类型：INT，自增
  - 描述：文档的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：文档所属项目的ID。

- **文档名称**
  - 类型：VARCHAR(255)
  - 描述：文档的名称。

- **文档类型**（施工图纸、现场照片、工程合同文件等）
  - 类型：ENUM('施工图纸', '现场照片', '工程合同文件')
  - 描述：文档的类型。

- **上传时间**
  - 类型：TIMESTAMP
  - 描述：文档的上传时间，默认值为当前时间。

- **文件路径**（或存储在云存储中的引用）
  - 类型：VARCHAR(255)
  - 描述：文档的存储路径或云存储引用。

#### 5. 问题（Issue）

- **问题ID**（主键）
  - 类型：INT，自增
  - 描述：问题的唯一标识符。

- **项目ID**（外键，关联项目ID）
  - 类型：INT
  - 描述：问题所属项目的ID。

- **问题描述**
  - 类型：TEXT
  - 描述：问题的详细描述。

- **创建时间**
  - 类型：TIMESTAMP
  - 描述：问题的创建时间，默认值为当前时间。

- **分配人ID**（外键，关联用户ID，即项目经理）
  - 类型：INT
  - 描述：分配该问题的用户ID，通常为项目经理。

- **负责人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：负责解决该问题的用户ID。

- **解决状态**（待处理、已处理）
  - 类型：ENUM('待处理', '已处理')
  - 描述：问题的解决状态。

#### 6. 回复（Notification）

- **回复ID**（主键）
  - 类型：INT，自增
  - 描述：回复的唯一标识符。

- **接收人ID**（外键，关联用户ID）
  - 类型：INT
  - 描述：接收该回复的用户ID。

- **任务ID**（可为空，若关联则表示任务相关通知）
  - 类型：INT（可为空）
  - 描述：关联的任务ID（如果适用）。

- **问题ID**（可为空，若关联则表示问题相关通知）
  - 类型：INT（可为空）
  - 描述：关联的问题ID（如果适用）。

- **通知内容**
  - 类型：TEXT
  - 描述：回复的具体内容。

- **发送时间**
  - 类型：TIMESTAMP
  - 描述：回复的发送时间，默认值为当前时间。

- **是否已读**
  - 类型：BOOLEAN
  - 描述：回复是否已被接收人阅读，默认值为未读。


